import streamlit as st

st.title(" Examen de Productividad y L铆neas de Producci贸n")

# Solicitar nombre del estudiante
nombre = st.text_input("Ingrese su nombre:")

if nombre:
    st.markdown("---")
    st.write(f" **Bienvenido/a {nombre}**")
    st.write("Resuelve el examen, lee las opciones y selecciona la opci贸n correcta.")
    st.markdown("---")

    preguntas = [
        {
            "pregunta": "1. 驴Qu茅 se entiende por productividad en una l铆nea de producci贸n?",
            "opciones": {
                "A": "La cantidad de horas trabajadas por los operarios",
                "B": "La relaci贸n entre la cantidad producida y los recursos utilizados",
                "C": "El n煤mero total de m谩quinas en la planta"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "2. 驴Cu谩l es el objetivo principal del estudio de tiempos?",
            "opciones": {
                "A": "Aumentar el n煤mero de trabajadores",
                "B": "Determinar el tiempo est谩ndar para realizar una tarea",
                "C": "Reducir la calidad del producto"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "3. 驴Qu茅 es el tiempo ciclo en una l铆nea de producci贸n?",
            "opciones": {
                "A": "El tiempo total de descanso del operario",
                "B": "El tiempo que tarda una estaci贸n en completar una unidad",
                "C": "El tiempo perdido por fallas de maquinaria"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "4. 驴Cu谩l de los siguientes factores afecta directamente la productividad?",
            "opciones": {
                "A": "El color de las m谩quinas",
                "B": "La eficiencia del operario",
                "C": "La ubicaci贸n geogr谩fica de la empresa"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "5. 驴Qu茅 ocurre cuando una estaci贸n de trabajo es m谩s lenta que las dem谩s?",
            "opciones": {
                "A": "Aumenta la productividad total",
                "B": "Se genera un cuello de botella",
                "C": "Se reduce el tiempo ciclo"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "6. 驴Qu茅 es un cuello de botella en una l铆nea de producci贸n?",
            "opciones": {
                "A": "Un exceso de inventario terminado",
                "B": "Una etapa que limita la capacidad total del sistema",
                "C": "Un error de calidad en el producto"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "7. 驴Para qu茅 se utiliza el balanceo de l铆nea?",
            "opciones": {
                "A": "Para aumentar el n煤mero de tareas",
                "B": "Para distribuir equitativamente el trabajo entre estaciones",
                "C": "Para eliminar a los operarios menos productivos"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "8. 驴Qu茅 indicador se usa com煤nmente para medir productividad?",
            "opciones": {
                "A": "Producci贸n / Recursos utilizados",
                "B": "Recursos utilizados / Producci贸n",
                "C": "Tiempo muerto / Tiempo total"
            },
            "respuesta": "A"
        },
        {
            "pregunta": "9. 驴Qu茅 es el tiempo muerto en una l铆nea de producci贸n?",
            "opciones": {
                "A": "El tiempo dedicado al mantenimiento preventivo",
                "B": "El tiempo en que no se realiza trabajo productivo",
                "C": "El tiempo necesario para fabricar un producto"
            },
            "respuesta": "B"
        },
        {
            "pregunta": "10. 驴Cu谩l es una ventaja de mejorar los tiempos de producci贸n?",
            "opciones": {
                "A": "Incrementar los costos operativos",
                "B": "Disminuir la capacidad de producci贸n",
                "C": "Reducir costos y aumentar la eficiencia"
            },
            "respuesta": "C"
        }
    ]

    # Inicializar respuestas
    if "respuestas" not in st.session_state:
        st.session_state.respuestas = {}

    # Mostrar preguntas
    for i, p in enumerate(preguntas):
        st.subheader(p["pregunta"])

        opciones = list(p["opciones"].keys())
        textos = [f"{k}) {v}" for k, v in p["opciones"].items()]

        respuesta = st.radio(
            "Selecciona una opci贸n:",
            opciones,
            format_func=lambda x: p["opciones"][x],
            key=f"pregunta_{i}"
        )

        st.session_state.respuestas[i] = respuesta

    # Bot贸n de calificaci贸n
    if st.button(" Calificar examen"):
        puntaje = 0

        for i, p in enumerate(preguntas):
            if st.session_state.respuestas[i] == p["respuesta"]:
                puntaje += 1

        st.markdown("---")
        st.write(f"### Ь Resultado final")
        st.write(f"**{nombre}, tu puntaje es:** {puntaje} / {len(preguntas)}")

        if puntaje >= 7:
            st.success(" 隆Aprobado!")
        else:
            st.error(" No aprobado. Sigue estudiando.")
